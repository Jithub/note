# 12.1 动态内存和类
静态类成员的特点：无论创建了多少对象，程序都只创建一个静态类变量副本，即所有对象共享同一个静态成员。

*静态数据成员在类声明中声明，在包含类方法的文件中初始化。初始化时使用作用域运算符来指出其所属的类（不必再用关键字static）。如果是整型或枚举型const，则可以在类声明中初始化。*

C++自动提供了如下的特殊成员函数：
- 默认构造函数，如果没有定义构造函数
- 默认析构函数，如果没有定义
- 复制构造函数，如果没有定义
- 赋值运算符，如果没有定义
- 地址运算符，如果没有定义

## 复制构造函数
复制构造函数用于将一个对象复制到新建的对象中。用于初始化过程（包括按值传递参数），而不是常规的赋值过程。函数原型通常为  
```c++
Class_name(const Class_name &);
```
它接受一个指向类对象的常量引用作为参数。

何时调用：新建一个对象并将其初始化为同类现有对象时。如下：
```c++
Stock ditto(motto);
Stock metoo = motto;
Stock also = Stock(metoo);
Stock pStock = new Stock(also);
```
每当程序生成了对象副本（函数按值传递对象或者函数返回对象）时，编译器都将使用复制构造函数。

有何功能：逐个复制非静态成员（成员复制也成为浅复制/浅拷贝），复制的是成员的值。静态成员不受影响。  
*因此，如果类中包含静态数据成员且其值将在新对象被创建时变化，则应该提供一个显式的复制构造函数。*

上面提到的复制非静态成员为浅拷贝，如果成员是指针，则将复制指针的值，会有问题。  
*所以，如果类中包含了使用new初始化的指针成员，应当定义一个复制构造函数，以复制指向的数据而不是指针。*

**还有个赋值运算符，看不下去了。。。**
<br>

# 12.2 改进后的新String类
*C++98中字面值0有两个含义：可以表示数字值零，也可以表示空指针。有些使用`(void*)0`有些使用`NULL`，C++11提供新关键字`nullptr`。* **再看一次<https://blog.csdn.net/qq_38410730/article/details/105183769>**

